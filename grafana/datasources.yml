apiVersion: 1

datasources:
  - name: Prometheus
    type: prometheus
    access: proxy
    url: http://${SITE_DOMAIN}:9090
    isDefault: true

  - name: PostgreSQL
    type: postgres
    access: proxy
    url: ${SITE_DOMAIN}:${DB_PORT}
    user: ${DB_USER}
    secureJsonData:
      password: ${DB_PASSWORD}
    jsonData:
      database: ${DB_NAME}
      sslmode: disable
    isDefault: false

  - name: Alertmanager
    type: alertmanager
    access: proxy
    url: ${SITE_DOMAIN}:9093
    jsonData:
      implementation: prometheus
      handleGrafanaManagedAlerts: false
